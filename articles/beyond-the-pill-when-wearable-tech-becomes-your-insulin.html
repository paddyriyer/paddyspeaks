<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beyond the Pill: When Wearable Tech Becomes Your Insulin Lifeline- Streamlining Data with Event Streaming and Data Vault 2.0 ‚Äî PaddySpeaks</title>
    <meta name="description" content="Mobile/Wearable App Data:">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600&amp;family=Source+Serif+4:ital,opsz,wght@0,8..60,300;0,8..60,400;0,8..60,500;0,8..60,600;1,8..60,300;1,8..60,400&amp;family=JetBrains+Mono:wght@300;400;500&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body>

<div class="page-frame"></div>
<div class="reading-progress" id="readingProgress"></div>
<div class="top-bar"><span>Est. 2026</span><span>Philosophy ¬∑ Technology ¬∑ Wisdom</span><a href="https://linkedin.com/in/paddyiyer" target="_blank" rel="noopener">LinkedIn ‚Üó</a></div>
<header class="masthead"><h1><a href="../index.html">Paddy<span>Speaks</span></a></h1><p class="masthead-tagline">Where ancient wisdom meets the architecture of tomorrow</p>
<div class="masthead-rule"></div>
</header>
<nav class="nav-bar"><a href="../index.html">Journal</a><a href="../index.html#philosophy">Philosophy</a><a href="../index.html#technology">Technology</a><a href="../index.html#ai">AI &amp; Future</a><a href="../index.html#archive">Archive</a><a href="../about.html">About</a></nav>
<div class="article-page">
<a class="back-to-home" href="../index.html">‚Üê All Articles</a>
<div>
<div class="article-hero"><span class="tag">technology</span><h1>Beyond the Pill: When Wearable Tech Becomes Your Insulin Lifeline- Streamlining Data with Event Streaming and Data Vault 2.0</h1><p class="subtitle">Mobile/Wearable App Data:</p>
<div class="article-meta"><span>By Paddy</span><span class="dot"></span><span>February 4, 2024</span><span class="dot"></span><span>3 min read</span></div>
</div>
<div class="article-hero-image"><img src="../images/articles/beyond-pill-when-wearable-tech-becomes-your-insulin-lifeline/img-01-342fa64e.jpg" alt="Beyond the Pill: When Wearable Tech Becomes Your Insulin Lifeline- Streamlining Data with Event Streaming and Data Vault 2.0" loading="lazy"></div>
<div class="article-content">

            <img src="../images/articles/beyond-pill-when-wearable-tech-becomes-your-insulin-lifeline/img-01-342fa64e.jpg" alt="" loading="lazy"><h2>2.1 Data Sources and Event Streams:</h2><p class="drop-cap"><strong>Mobile/Wearable App Data:</strong></p><ul><li><p>Continuous glucose readings (CGM data).</p></li><li><p>Insulin delivery events (dosage, timing).</p></li><li><p>User input (food logs, activity levels, symptoms).</p></li><li><p>App usage data (logins, settings changes).</p></li></ul><p><strong>Device Data:</strong></p><ul><li><p>Device status and battery levels.</p></li><li><p>Calibration and maintenance logs.</p></li><li><p>Error and warning messages.</p></li><li><p>Healthcare Professional Data:</p></li><li><p>Patient assessments, diagnoses, and medication adjustments.</p></li><li><p>Consultations and communication logs.</p></li></ul><h2>2.2 Event Streaming Architecture:</h2><ul><li><p>Consider a real-time event streaming platform like Apache Kafka to capture and process data streams from various sources.</p></li><li><p>Employ microservices architecture to decouple data ingestion, processing, and storage components.</p></li><li><p>Implement data validation and transformation steps within the streaming pipeline.</p></li></ul><h2>2.3 Data Vault 2.0 Modeling:</h2><p><strong>Raw Data Vault (RDV):</strong></p><ul><li><p>Land all incoming event streams in the RDV in a semi-structured format (e.g., JSON).</p></li><li><p>Preserve original data integrity and facilitate historical analysis.</p></li></ul><p><strong>Business Vault (BV):</strong></p><ul><li><p>Define Hubs for entities like Patients, Devices, Healthcare Professionals.</p></li><li><p>Establish Links to capture relationships between Hubs (e.g., Patient-Device, Doctor-Patient).</p></li><li><p>Create Satellites for detailed event data, grouped by entity (e.g., Patient_GlucoseReadings, Device_ErrorLogs).</p></li><li><p>Utilize surrogate keys to ensure data integrity and efficient querying.</p></li></ul><p><strong>Data Marts:</strong></p><ul><li><p>Develop specific data marts tailored for different analytics use cases (e.g., clinical analysis, patient adherence monitoring).</p></li><li><p>Aggregate and pre-aggregate relevant data from the BV for faster querying and reporting.</p></li></ul><h2>2.4 Data Quality and Governance:</h2><ul><li><p>Implement data quality checks within the streaming pipeline to identify and address data anomalies.</p></li><li><p>Define clear data governance policies for data access, security, and retention.</p></li></ul><p><strong>2.5 Benefits of Data Vault 2.0:</strong></p><ul><li><p>Enables flexible data integration from diverse sources.</p></li><li><p>Supports historical analysis and trend identification.</p></li><li><p>Provides a scalable and future-proof data architecture.</p></li><li><p>Facilitates self-service analytics for various stakeholders.</p></li></ul><h2>Tech TL;DR</h2><p>Here‚Äôs a breakdown of how events from wearable insulin apps can be streamed and processed using a Kinesis/Snowflake model:</p><h3>1. Data Streaming and Snowflake Design: Streaming Platform (Choose one):</h3><h3>Approach 1 ‚Äî</h3><p><strong>a) Apache Kafka:</strong></p><pre></pre><p><strong>b) Amazon Kinesis Streams:</strong></p><pre></pre><h3>b) Snowflake Design:</h3><p><strong>Streams:</strong></p><pre></pre><p><strong>Pipes:</strong></p><pre></pre><p><strong>Loading into Tables:</strong></p><pre></pre><h3>Approach 2 ‚Äî</h3><p><strong>1. Data Flow:</strong></p><ul><li><p>Mobile/Wearable Apps: Capture sensor data (insulin levels, glucose readings, device status) and send events to Kinesis Firehose.</p></li><li><p>Kinesis Firehose: Delivers data streams to Snowflake in real-time or batch mode.</p></li><li><p>Snowflake: Stores, processes, and analyzes the data for various purposes.</p></li></ul><p><strong>2. Sample Code (Producer ‚Äî Python):</strong></p><pre></pre><p><strong>3. Sample Code (Consumer ‚Äî Python):</strong></p><pre></pre><h2>Data Modeling and Schema for Healthcare Data (Data Vault 2.0)</h2><img src="../images/articles/beyond-pill-when-wearable-tech-becomes-your-insulin-lifeline/img-02-a86fa3cc.jpg" alt="" loading="lazy"><h3>Data Flow:</h3><ol><li><p>Real-time data (glucose readings, insulin delivery) streams from the wearable pump to Kinesis.</p></li><li><p>Kinesis delivers data to Snowflake loading staging tables.</p></li><li><p>Data from staging tables is transformed and loaded into Hubs, Links, and Satellites based on Data Vault 2.0 principles.</p></li><li><p>Data is available for analysis and reporting in Snowflake.</p></li></ol><h3>Example Scenario:</h3><ul><li><p>A patient with diabetes (DiagnosedDate in Patient_Diagnoses) is currently taking Metformin (TreatmentID in Patient_Treatments).</p></li><li><p>Their doctor (DoctorID in Patient_Doctor) decides to switch them to wearable insulin treatment (new TreatmentID in Patient_Treatments).</p></li><li><p>The new treatment is administered at a hospital (FacilityID in Treatment_Facility).</p></li><li><p>A payment is made for the treatment (PaymentID in Payment_Service).</p></li></ul><h3>Additional Considerations:</h3><ul><li><p>Surrogate Keys: Use surrogate keys for all Hubs and Links to optimize performance and avoid exposing sensitive data like patient identifiers.</p></li><li><p>Normalization: Normalize Satellite data to reduce redundancy and improve query efficiency.</p></li><li><p>Data Types: Choose appropriate data types for each field based on the expected values.</p></li><li><p>Partitioning: Partition tables by date or patient ID for efficient data management and querying.</p></li><li><p>External Data Integration: Consider linking to external data sources like lab results or claims data for a more holistic view.</p></li></ul><h3>Tools and Technologies:</h3><ul><li><p>Data Ingestion: Use tools like AWS Kinesis Firehose or Snowflake Data Cloud to ingest data from various sources.</p></li><li><p>Data Transformation: Use tools like AWS Lambda or Snowflake User Defined Functions (UDFs) to transform and enrich data before loading.</p></li><li><p>Data Modeling and Management: Use Snowflake‚Äôs schema management capabilities to define and maintain the Data Vault 2.0 model.</p></li></ul><p>Next Steps:</p><p><a>In part 3, I will explore the analytics and exploratory data analysis (EDA) techniques</a> that can be applied to the modeled data to gain insights into the transition process and improve patient outcomes.</p>

</div>
<div class="article-share article-share--padded"><span>Share</span><a class="share-btn" href="https://twitter.com/intent/tweet?text=Beyond%20the%20Pill:%20When%20Wearable%20Tech%20Becomes%20Your%20Insulin%20Lifeline-%20Streamlining%20Data%20with%20Event%20Streaming%20and%20Data%20Vault%202.0&amp;url=https://paddyspeaks.com/articles/beyond-the-pill-when-wearable-tech-becomes-your-insulin.html" target="_blank" rel="noopener">ùïè</a><a class="share-btn" href="https://www.linkedin.com/sharing/share-offsite/?url=https://paddyspeaks.com/articles/beyond-the-pill-when-wearable-tech-becomes-your-insulin.html" target="_blank" rel="noopener">in</a></div>
</div>
</div>
<footer class="site-footer">
<div class="footer-ornament">‚ùß</div>
<div class="footer-links"><a href="https://linkedin.com/in/paddyiyer" target="_blank" rel="noopener">LinkedIn</a><a href="../about.html">About</a><a href="mailto:paddy@paddyspeaks.com">Contact</a></div>
<p class="footer-copy">¬© 2026 PaddySpeaks. All rights reserved.</p></footer>
<script>window.addEventListener('scroll',function(){var b=document.getElementById('readingProgress');b.style.width=(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight))*100+'%';});</script>
</body></html>